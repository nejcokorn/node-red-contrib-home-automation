<script type="text/javascript">
	RED.nodes.registerType('ha-get-port', {
		category: 'home-automation',
		color: '#BF9075',
				// #595336
				// #D99B66
				// #F2CEAE
				// #BF9075
				// #F2E0D5
		defaults: {
			name: {
				value: ""
			},
			agent: {
				type: "ha-agent",
				required: true
			},
			deviceId: {
				required: true
			},
			direction: {
				required: true
			},
			port: {
				required: true
			}
		},
		inputs: 1,
		outputs: 1,
		outputLabels: ['port'],
		icon: "font-awesome/fa-sign-in",
		oneditprepare: function() {
		},
		label: function() {
			return this.name;
		}
	});
</script>

<script type="text/html" data-template-name="ha-get-port">
	<div class="form-row">
		<label for="node-input-name">
			<i class="fa fa-tag"></i>
			Name
		</label>
		<input type="text" id="node-input-name" class="offset-md-2">
	</div>
	<hr />
	<h3>Home Automation Device</h3>
	<div class="form-row">
		<label for="node-input-agent">Agent</label>
		<input type="text" id="node-input-agent">
		<br />
		<small id="node-help-agent">Select the Home Automation agent configuration to use for the request.</small>
	</div>
	<div class="form-row">
		<label for="node-input-deviceId">Device ID</label>
		<input type="text" id="node-input-deviceId">
		<br />
		<small id="node-help-deviceId">Enter the target device to send this action to.</small>
	</div>
	<div class="form-row">
		<label for="node-input-direction">Direction</label>
		<select id="node-input-direction">
			<option disabled value="">Choose...</option>
			<option value="input">input</option>
			<option value="output">output</option>
		</select>
		<br />
		<small id="node-help-direction">Select the device port type.</small>
	</div>
	<div class="form-row">
		<label for="node-input-port">Port</label>
		<input type="text" id="node-input-port">
		<br />
		<small id="node-help-port">Enter the device port number; Output ports (0-15), Input ports (0-11).</small>
	</div>
</script>

<script type="text/html" data-help-name="ha-get-port">
	<p>Reads the current value of a device digital port via the selected Home Automation agent.</p>
	<h3>Inputs</h3>
	<dl class="message-properties">
		<dt>msg</dt>
		<dd>Any input message triggers a read.</dd>
	</dl>
	<h3>Outputs</h3>
	<dl class="message-properties">
		<dt>payload</dt>
		<dd>Port value returned by the agent.</dd>
	</dl>
	<h3>Details</h3>
	<p>Configure the Device ID, direction (input or output), and port number. Output ports: 0-15, Input ports: 0-11.</p>
</script>
